// This file was generated by Mendix Modeler.
//
// WARNING: Only the following code will be retained when actions are regenerated:
// - the import list
// - the code between BEGIN USER CODE and END USER CODE
// - the code between BEGIN EXTRA CODE and END EXTRA CODE
// Other code you write will be lost the next time you deploy the project.
// Special characters, e.g., é, ö, à, etc. are supported in comments.

package emailplus.actions;

import com.mendix.systemwideinterfaces.core.IMendixObject;
import com.mendix.systemwideinterfaces.core.IContext;
import com.mendix.webui.CustomJavaAction;

/**
 * The Java action that actually sends the email.
 */
public class SendMail_BCC_HTML extends CustomJavaAction<java.lang.Boolean>
{
	private java.lang.String To;
	private java.lang.String From;
	private java.lang.String Subject;
	private java.lang.String PlainMessage;
	private java.lang.String SMTPHost;
	private java.lang.Long SMTPPort;
	private java.lang.Boolean SMTPAuth;
	private java.lang.String SMTPUsername;
	private java.lang.String SMTPPassword;
	private java.lang.Boolean SMTPUseSSL;
	private java.lang.Boolean SMTPUseTLS;
	private java.lang.String CC;
	private java.lang.String BCC;
	private java.lang.String HTMLMessage;
	private java.util.List<IMendixObject> __Attachments;
	private java.util.List<emailplus.proxies.MessageAttachment> Attachments;
	private java.lang.Boolean AccountGetsHostnameAttached;
	private java.lang.String ReplyTo;

	public SendMail_BCC_HTML(IContext context, java.lang.String To, java.lang.String From, java.lang.String Subject, java.lang.String PlainMessage, java.lang.String SMTPHost, java.lang.Long SMTPPort, java.lang.Boolean SMTPAuth, java.lang.String SMTPUsername, java.lang.String SMTPPassword, java.lang.Boolean SMTPUseSSL, java.lang.Boolean SMTPUseTLS, java.lang.String CC, java.lang.String BCC, java.lang.String HTMLMessage, java.util.List<IMendixObject> Attachments, java.lang.Boolean AccountGetsHostnameAttached, java.lang.String ReplyTo)
	{
		super(context);
		this.To = To;
		this.From = From;
		this.Subject = Subject;
		this.PlainMessage = PlainMessage;
		this.SMTPHost = SMTPHost;
		this.SMTPPort = SMTPPort;
		this.SMTPAuth = SMTPAuth;
		this.SMTPUsername = SMTPUsername;
		this.SMTPPassword = SMTPPassword;
		this.SMTPUseSSL = SMTPUseSSL;
		this.SMTPUseTLS = SMTPUseTLS;
		this.CC = CC;
		this.BCC = BCC;
		this.HTMLMessage = HTMLMessage;
		this.__Attachments = Attachments;
		this.AccountGetsHostnameAttached = AccountGetsHostnameAttached;
		this.ReplyTo = ReplyTo;
	}

	@Override
	public java.lang.Boolean executeAction() throws Exception
	{
		this.Attachments = new java.util.ArrayList<emailplus.proxies.MessageAttachment>();
		if (__Attachments != null)
			for (IMendixObject __AttachmentsElement : __Attachments)
				this.Attachments.add(emailplus.proxies.MessageAttachment.initialize(getContext(), __AttachmentsElement));

		// BEGIN USER CODE
		nl.mansystems.email.SendMail_BCC_HTML_Mansystems smbc = new nl.mansystems.email.SendMail_BCC_HTML_Mansystems(this.getContext(), To, From, Subject, PlainMessage, SMTPHost, SMTPPort, SMTPAuth, SMTPUsername, SMTPPassword, SMTPUseSSL, SMTPUseTLS, CC, BCC, HTMLMessage, Attachments, AccountGetsHostnameAttached, ReplyTo);
		//nl.mansystems.email.SendMail_BCC_HTML smbc = new nl.mansystems.email.SendMail_BCC_HTML(this.getContext(), To, From, Subject, PlainMessage, SMTPHost, SMTPPort, SMTPUsername, SMTPPassword, SMTPUseSSL, CC, BCC, HTMLMessage, Attachments, AccountGetsHostnameAttached, ReplyTo);
		return smbc.executeAction();
		// END USER CODE
	}

	/**
	 * Returns a string representation of this action
	 */
	@Override
	public java.lang.String toString()
	{
		return "SendMail_BCC_HTML";
	}

	// BEGIN EXTRA CODE
	// END EXTRA CODE
}
